---
title: Hexo + Github Pages 搭建博客 且 不同设备上同步写作
tags: []
categories: []
date: 2017-02-12 22:16:36
---

# 安装 #
#### 为什么选择Github Pages + Hexo ####
 - 穷(githubpages 免费，且送300M的空间)
 - 还算好用（写完上传就两步，多插件）
 - 颜值丰富多变（可以自己设置别人弄好的主题）
#### 你需要准备什么 ####
 - 一台 mac
 - 一个 github 账号
 - node.js
 - homebrew
 - hexo
#### 步骤分解
1. 创建Githubpages
2. 安装node.js
3. 安装homebrew
4. 安装hexo
5. 创建本地hexo
6. 绑定域名
是不是没有感觉被骗了，以上这些很多文章已经讲过，这里就不在赘述，请参考：[MAC 上 github + hexo 搭建博客教程](http://www.jianshu.com/p/fd878edb95e7)

#### 改成多说评论
将站点下的_config.yaml和主题下面的_config.yaml中 disqus_shortname: smilhu 改成 duoshuo_shortname: smilehu 其中smilehu就是[duoshuo](http://duoshuo.com/)官网建站时你填入的那个域名缩写，也就是 xxx.duoshou.com 中的xxx


----------


# 不同设备上同步使用  #
其实一般一台机器就够了，不过有些人有时候一台没在身边，这里要先明白hexo的运行原理。
正常的hexo项目目录结构如下：
![目录结构](http://img.blog.csdn.net/20170212232501483?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTGluX1Rpbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

而在我们的gihubpages.username.io的git仓库里存储的就是public下面所有的内容，这是hexo生成的我们常见的网页运行的所有资源文件，

而Github Pages就是通过访问这些资源来生成我们的博客（网页）。
**所以我们每次更新博客就是更新public文件下的内容**。

所以要想实现不同设备上同步写作，就是要不同的设备上都能更新到public文件下。

所以理解以上后，剩下就是创建两个分支，一个保存hexo的所有文件， 一个就是生成的网页。参考[hexo博客同步](http://crazymilk.github.io/2015/12/28/GitHub-Pages-Hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/#more)
不过他里面有个坑：在创建hexo分支8步操作里：
“前四步的目的是，在github上建立一个新的repo，并且把目录同步到本地（这时同步到本地的文件夹可能只有一个readme.md，或者是个空文件夹，但是有一个隐藏的.git文件夹）。
执行第五步的时候，Hexo会生成一个新的.git，并且覆盖了上文提到的.git...这会导致没法push到hexo分支...正确的做法是，在hexo init前复制.git在完成hexo init后再黏贴回来覆盖新生成的.git...剩下的就能完成push hexo了...”